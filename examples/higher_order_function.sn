typedef List a = 
  Nil
| Cons of a * (List a)

let l_1 = Cons (1,Nil)

let l_2 = Cons(Cons(2,Nil),Nil)

let l_3 = Cons(Cons(Cons(3,Nil),Nil),Nil)

let rec map f l =
  match l with
    Nil -> Nil
  | Cons(x,xs) -> Cons(f x,map f xs)

let map_id = map (fun x -> x) (Cons(1,Cons(2,Cons(3,Nil))))

let map_nil = map (fun x -> Nil) (Cons(1,Cons(2,Cons(3,Nil))))

let map_l_2 = map (fun x -> map (fun y -> y) x) l_2

let map_l_3 = map (fun x -> map (fun y -> map (fun z -> Nil) y) x) l_3